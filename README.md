# Zibanator
Приложение(не RESTful) для бронирования и отмены брони мест в кинотеатрах.
Возможности:
1)просмотр списка фильмов идущих в кино с указанием даты начала и окончания показа (вызывается командой films);
2)просмотр кинотеатра, даты и времени показа выбранного фильма (вызывается командой film filmName);
3)просмотр информации о занятости мест в кинозале на выбранном кинопоказе (вызывается командой show cinemaName date(где date указывается в формате dd.MM.yy HH:mm);
4)бронирование мест на выбранный кинопоказ (вызывается командой booking r1,s1 r2,s2...rN,sN (где rN- ряд, sN- место, N- количество бронируемых мест);
5)просмотр забронированных пользователем мест (вызывается командой tickets);
6)отмена брони (вызывается командой remove i r1,s1 r2,s2...rN,sN (где i- номер брони из списка, вызываемого предыдущей командой, r1,s1 и N- смотри пункт 4);

Для использования функций 4)-6) необходима авторизация пользователя:
    -для создания нового пользователя используется команда signup userName userPassword,
        где userName- имя пользователя, userPassword-пароль пользователя(может включать цифры, буквы различного регистра);
    -для входа в существующего пользователя используется команда signin userName userPassword (userName и userPassword описаны в предыдущей команде);
    -для выхода пользователя из системы используется команда signout;
    -для завершения работы с системой используется команда exit.

Данные о пользователях для входа в систему хранятся в файле Users.xml.
Данные о расписании показов фильмов хранятся в файле timeTable.xml.
Данные о бронях пользователей хранятся в файле booking.xml.


От автора:
    Понимаю, что всё сделано страшно, держится на костылях. Это следствие того, что я- самоучка и с серьезными проектами не работал.
    Так же понимаю, что это не REST-приложение, как этого требовали условия задачи. Очень много времени ушло на написание и доводку сего "творения".
    С REST и созданием REST-приложений в Spring MVC начал знакомиться, но ещё не овладел. Если с методами в java-файле всё понятно, то с настройкой приложения- темный лес.
    С xml файлами через Java-приложение работаю впервые. Методы, написанные сначала, могут содержать(содержат) лишние проверки и приведения типов.

    Итого:
        Что сделано:
            Написана логика программы, необходим адаптер для REST.

        Минусы и недочеты:
            -Не потокобезопасно
            -Не организована должным образом обработка различных исключений
            -Слишком много кода. Часть повторяющегося кода необходимо вынести в отдельные методы/классы


Дополнено 04.04.2017 21:45. Покурил просторы интернета, пока разбираюсь с Rest. Пришел к выводу, что хранение данных в xml- не лучшее решение.
    Стоило хранить данные о фильмах и забронированных билетах в JSON, отдельно написать класс Cinema, User. Данные из файла парсить в объекты этих классов и работать с ними.
    Количество кода уменьшилось бы в разы.